!function(a){"use strict";a.AxisBuilderShortcodes=a.AxisBuilderShortcodes||{},a.AxisBuilderShortcodes.fetchShortcodeEditorElement=function(b,c,d){var e=a("#axisbuilder-tmpl-"+b);return e.length?void("instant-insert"===c&&(d.sendToBuilderCanvas(e.html()),d.updateTextarea(),d.historySnapshot(0))):void 0},a.AxisBuilderShortcodes.cloneElement=function(b,c){var d=a(b),e=d.parents(".axisbuilder-sortable-element:eq(0)");e.length||(e=d.parents(".axisbuilder-layout-column:eq(0)"),e.length||(e=d.parents(".axisbuilder-layout-section:eq(0)"))),e.find("textarea").each(function(){this.innerHTML=this.value});var f=e.clone();f.find(".ui-draggable, .ui-droppable").removeClass(".ui-draggable, .ui-droppable"),f.insertAfter(e),(parents.is(".axisbuilder-layout-column")||parent.is(".axisbuilder-layout-section")||wrap.length)&&wrap.length&&(c.updateTextarea(),c.updateInnerTextarea(parents)),c.activateDragging(),c.activateDropping(),c.updateTextarea(),c.historySnapshot()},a.AxisBuilderShortcodes.trashElement=function(b,c){var d=a(b),e=d.parents(".axisbuilder-sortable-element:eq(0)"),f=!1,g=!1,h=200;if(e.length?f=d.parents(".axisbuilder-inner-shortcode:eq(0)"):(e=d.parents(".axisbuilder-layout-column:eq(0)"),f=d.parents(".axisbuilder-layout-column:eq(0)>.axisbuilder-inner-shortcode"),e.length||(e=d.parents(".axisbuilder-layout-section:eq(0)"),f=!1)),e.length&&e.is(".axisbuilder-layout-cell")){if(!(f.find(".axisbuilder-layout-cell").length>1))return!1;g=!0,h=0}e.hide(h,function(){e.remove(),f&&f.length&&c.updateInnerTextarea(f),""===c.axisBuilderValues.val()&&c.activateDropping(c.axisBuilderParent,"destroy"),c.updateTextarea(),c.historySnapshot()})},a.AxisBuilderShortcodes.resizeLayout=function(b,c){for(var d=a(b),e=d.parents(".axisbuilder-layout-column:eq(0)"),f=e.parents(".axisbuilder-layout-section:eq(0)"),g=e.data("width"),h=[],i=d.is(".axisbuilder-increase")?1:-1,j=e.find(".axisbuilder-column-size"),k=e.find(".axisbuilder-inner-shortcode > "+c.shortcodesData),l=k.val(),m=[["ab_one_full","1/1"],["ab_four_fifth","4/5"],["ab_three_fourth","3/4"],["ab_two_third","2/3"],["ab_three_fifth","3/5"],["ab_one_half","1/2"],["ab_two_fifth","2/5"],["ab_one_third","1/3"],["ab_one_fourth","1/4"],["ab_one_fifth","1/5"]],n=0;n<m.length;n++)m[n][0]===g&&(h=m[n-i]);"undefined"!=typeof h&&(l=l.replace(new RegExp("^\\["+g,"g"),"["+h[0]),l=l.replace(new RegExp(g+"\\]","g"),h[0]+"]"),k.val(l),e.removeClass(g).addClass(h[0]),e.attr("data-width",h[0]).data("width",h[0]),j.text(h[1]),c.updateTextarea(),f.length&&(c.updateInnerTextarea(!1,f),c.updateTextarea()),c.historySnapshot(0))}}(jQuery);