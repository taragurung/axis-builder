!function(a){"use strict";tinymce.create("tinymce.plugins.AB_Shortcodes",{init:function(a){var b=tinymce.activeEditor,c=this;a.addButton("axisbuilder_shortcodes",{title:b.getLang("axisbuilder_shortcodes.shortcode_title"),text:b.getLang("axisbuilder_shortcodes.shortcode_text"),icon:"axisbuilder-shortcodes",type:"menubutton",menu:c.createMenu()}),a.addCommand("Open_AxisBuilderModal",function(){return!1})},createMenu:function(){var b,c,d=tinymce.activeEditor,e=(a.AxisBuilderModal.openInstance||[],d.getLang("axisbuilder_shortcodes.shortcodes")),f=this,g=[],h=[],i=0;for(var j in e)g[e[j].type]=[];for(b in g)"undefined"!==b&&(i++,h.push({text:d.getLang("axisbuilder_shortcodes."+b+"_label"),menu:[]}));for(c in e){e[c].tinyMCE=e[c].tinyMCE||{};var k=h,l="",m="";for(b in h)if("undefined"!==b){var n=d.getLang("axisbuilder_shortcodes."+e[c].type+"_label");h[b].text===n&&(k=h[b].menu)}l=e[c].tinyMCE.name||e[c].title,m="undefined"!=typeof e[c].tinyMCE.instantInsert?f.instantInsert:f.modalInsert,k.push({text:l,onClick:m,axisbuilder_shortcode:e[c]})}for(b in h)"undefined"!==b&&"undefined"!=typeof h[b].menu&&0===h[b].menu.length&&delete h[b];return h},instantInsert:function(){var a=tinymce.activeEditor,b=this.settings.axisbuilder_shortcode;a.execCommand("mceInsertContent",!1,window.switchEditors.wpautop(b.tinyMCE.instantInsert))},modalInsert:function(){}}),tinymce.PluginManager.add("axisbuilder_shortcodes",tinymce.plugins.AB_Shortcodes)}(jQuery);